{% extends "base.html" %}
{% block content %}
    <h2>{{ user }}: {{ points }}</h2>
    <div class="activitylog">
    <h4>Log activity</h4>
    <form action="" method="post" novalidate>
        {{ form.hidden_tag() }}
        <p>
            I 
            <select name="action">
                {% for action in form.action.choices %}
                <option value= "{{ action }}" SELECTED>{{ action }}</option>"
                {% endfor %}
            </select>
            {{ form.item(cols=32, rows=4) }}
            <br>
            {{ form.comment.label }}
            <br>
            {{ form.comment(cols=58, rows=4) }}<br>
            {% for error in form.comment.errors %}
            <span class="error" style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </p>
        <p>{{ form.submit() }}</p>
    </form>
    </div>  
    
    <h4>Activity feed</h4>
    <hr>
    {% for post in posts %}
    <div class="activitypost">
    <span id="posted info"><b> {{ post.author.username }} posted at {{ post.timestamp }}</b></span>
    <br>
    <span id="postauthor"></span><b>{{ post.author.username }}</b></span>
    <span id="postbody">{{ post.body }}</span>
    <br>
    <span id="postlikes">{{ post.likes }} <form action="{{ url_for('update_like', username=user, post_id=post.id) }}" method="POST">
        <button><i class="fa fa-heart"></i></button>
   </form>
    </span>
    <br>
    <br>
    </div>
    {% endfor %}
{% endblock %}